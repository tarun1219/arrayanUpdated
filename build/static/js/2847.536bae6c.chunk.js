"use strict";(self.webpackChunkarrayan=self.webpackChunkarrayan||[]).push([[2847],{2847:function(e,n,a){a.r(n),a.d(n,{ImageDrawer:function(){return c}});var r=a(7762),t=a(4165),i=a(5861),s=a(5671),u=a(3144),o=a(4709),c=function(){function e(n){var a=this;(0,s.Z)(this,e),this.loadImageShape=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a._engine.loadImage){e.next=2;break}throw new Error("".concat(o.gK," image shape not initialized"));case 2:return e.next=4,a._engine.loadImage({gif:n.gif,name:n.name,replaceColor:null!==(r=n.replaceColor)&&void 0!==r&&r,src:n.src});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this._engine=n}return(0,u.Z)(e,[{key:"addImage",value:function(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}},{key:"draw",value:function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var r,i,s,u,o,c,l,p,f,h;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.context,i=n.radius,s=n.particle,u=n.opacity,o=s.image,c=null===o||void 0===o?void 0:o.element,o){e.next=3;break}return e.abrupt("return");case 3:if(r.globalAlpha=u,!o.gif||!o.gifData){e.next=12;break}return e.next=7,a.e(9188).then(a.bind(a,9188));case 7:l=e.sent,(0,l.drawGif)(n),e.next=13;break;case 12:c&&(p=o.ratio,f={x:-i,y:-i},h=2*i,r.drawImage(c,f.x,f.y,h,h/p));case 13:r.globalAlpha=1;case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"getSidesCount",value:function(){return 12}},{key:"init",value:function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var a,i,s,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=n.actualOptions).preload&&this._engine.loadImage){e.next=3;break}return e.abrupt("return");case 3:i=(0,r.Z)(a.preload),e.prev=4,i.s();case 6:if((s=i.n()).done){e.next=12;break}return u=s.value,e.next=10,this._engine.loadImage(u);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),i.e(e.t0);case 17:return e.prev=17,i.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[4,14,17,20]])})));return function(n){return e.apply(this,arguments)}}()},{key:"loadShape",value:function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("image"===n.shape||"images"===n.shape){e.next=2;break}return e.abrupt("return");case 2:if(this._engine.images||(this._engine.images=[]),a=n.shapeData){e.next=6;break}return e.abrupt("return");case 6:if(this._engine.images.find((function(e){return e.name===a.name||e.source===a.src}))){e.next=12;break}return e.next=10,this.loadImageShape(a);case 10:return e.next=12,this.loadShape(n);case 12:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"particleInit",value:function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n,r){var i,s,u,o,c,l,p,f,h,g,m,d,v,k,x,b=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("image"===r.shape||"images"===r.shape){e.next=2;break}return e.abrupt("return");case 2:if(this._engine.images||(this._engine.images=[]),o=this._engine.images,c=r.shapeData){e.next=6;break}return e.abrupt("return");case 6:if(l=r.getFillColor(),p=o.find((function(e){return e.name===c.name||e.source===c.src}))){e.next=9;break}return e.abrupt("return");case 9:if(f=null!==(i=c.replaceColor)&&void 0!==i?i:p.replaceColor,!p.loading){e.next=13;break}return setTimeout((function(){b.particleInit(n,r)})),e.abrupt("return");case 13:if(!p.svgData||!l){e.next=23;break}return e.next=16,Promise.resolve().then(a.bind(a,9602));case 16:return g=e.sent,m=g.replaceImageColor,e.next=20,m(p,c,l,r);case 20:h=e.sent,e.next=24;break;case 23:h={color:l,data:p,element:p.element,gif:p.gif,gifData:p.gifData,gifLoopCount:p.gifLoopCount,loaded:!0,ratio:c.width&&c.height?c.width/c.height:null!==(d=p.ratio)&&void 0!==d?d:1,replaceColor:f,source:c.src};case 24:h.ratio||(h.ratio=1),v=null!==(s=c.fill)&&void 0!==s?s:r.shapeFill,k=null!==(u=c.close)&&void 0!==u?u:r.shapeClose,x={image:h,fill:v,close:k},r.image=x.image,r.shapeFill=x.fill,r.shapeClose=x.close;case 29:case"end":return e.stop()}}),e,this)})));return function(n,a){return e.apply(this,arguments)}}()}]),e}()}}]);
//# sourceMappingURL=2847.536bae6c.chunk.js.map