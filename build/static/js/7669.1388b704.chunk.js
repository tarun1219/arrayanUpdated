"use strict";(self.webpackChunkarrayan=self.webpackChunkarrayan||[]).push([[7669],{7669:function(t,i,e){e.r(i),e.d(i,{EmitterInstance:function(){return c}});var n=e(4165),s=e(5861),r=e(5671),o=e(3144),a=e(4709),h=e(9185),l=e(7937);function u(t,i){t.color?t.color.value=i:t.color={value:i}}var c=function(){function t(i,e,n,s,o){var l,u,c,p,d,_,v,f,m,y=this;(0,r.Z)(this,t),this.emitters=e,this.container=n,this._destroy=function(){var t,i;null===(t=y._mutationObserver)||void 0===t||t.disconnect(),y._mutationObserver=void 0,null===(i=y._resizeObserver)||void 0===i||i.disconnect(),y._resizeObserver=void 0,y.emitters.removeEmitter(y),y._engine.dispatchEvent("emitterDestroyed",{container:y.container,data:{emitter:y}})},this._prepareToDie=function(){var t;if(!y._paused){var i=void 0!==(null===(t=y.options.life)||void 0===t?void 0:t.duration)?(0,a.Gu)(y.options.life.duration):void 0;y.container.retina.reduceFactor&&(y._lifeCount>0||y._immortal)&&void 0!==i&&i>0&&(y._duration=i*a.X5)}},this._setColorAnimation=function(t,i,e){var n,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=y.container;if(!t.enable)return i;var o=(0,a.vd)(t.offset),h=(0,a.Gu)(y.options.rate.delay)*a.X5/r.retina.reduceFactor;return(i+(0,a.Gu)(null!==(n=t.speed)&&void 0!==n?n:0)*r.fpsLimit/h+o*s)%e},this._engine=i,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=o,s instanceof h.Emitter?this.options=s:(this.options=new h.Emitter,this.options.load(s)),this._spawnDelay=(0,a.Gu)(null!==(l=this.options.life.delay)&&void 0!==l?l:0)*a.X5/this.container.retina.reduceFactor,this.position=null!==(u=this._initialPosition)&&void 0!==u?u:this._calcPosition(),this.name=this.options.name,this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;var w=(0,a.ZB)({},this.options.particles);if(null!==(c=w)&&void 0!==c||(w={}),null!==(d=(p=w).move)&&void 0!==d||(p.move={}),null!==(v=(_=w.move).direction)&&void 0!==v||(_.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=(0,a.lN)(this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=w,this._size=this._calcSize(),this.size=(0,a.ap)(this._size,this.container.canvas.size),this._lifeCount=null!==(f=this.options.life.count)&&void 0!==f?f:-1,this._immortal=this._lifeCount<=0,this.options.domId){var D=document.getElementById(this.options.domId);D&&(this._mutationObserver=new MutationObserver((function(){y.resize()})),this._resizeObserver=new ResizeObserver((function(){y.resize()})),this._mutationObserver.observe(D,{attributes:!0,attributeFilter:["style","width","height"]}),this._resizeObserver.observe(D))}var z=this.options.shape,C=null===(m=this._engine.emitterShapeManager)||void 0===m?void 0:m.getShapeGenerator(z.type);C&&(this._shape=C.generate(this.position,this.size,this.fill,z.options)),this._engine.dispatchEvent("emitterCreated",{container:n,data:{emitter:this}}),this.play()}return(0,o.Z)(t,[{key:"externalPause",value:function(){this._paused=!0,this.pause()}},{key:"externalPlay",value:function(){this._paused=!1,this.play()}},{key:"init",value:function(){var t=(0,s.Z)((0,n.Z)().mark((function t(){var i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(i=this._shape)||void 0===i?void 0:i.init();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"pause",value:function(){this._paused||delete this._emitDelay}},{key:"play",value:function(){var t;if(!this._paused&&this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(null!==(t=this._spawnDelay)&&void 0!==t?t:0))){if(void 0===this._emitDelay){var i=(0,a.Gu)(this.options.rate.delay);this._emitDelay=i*a.X5/this.container.retina.reduceFactor}(this._lifeCount>0||this._immortal)&&this._prepareToDie()}}},{key:"resize",value:function(){var t,i=this._initialPosition;this.position=i&&(0,a.Ac)(i,this.container.canvas.size,a.OW.origin)?i:this._calcPosition(),this._size=this._calcSize(),this.size=(0,a.ap)(this._size,this.container.canvas.size),null===(t=this._shape)||void 0===t||t.resize(this.position,this.size)}},{key:"update",value:function(){var t=(0,s.Z)((0,n.Z)().mark((function t(i){var e,s,r,o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._paused){t.next=2;break}return t.abrupt("return");case 2:if(this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=null!==(e=this._spawnDelay)&&void 0!==e?e:0,this._currentEmitDelay=null!==(s=this._emitDelay)&&void 0!==s?s:0),this._startParticlesAdded){t.next=7;break}return this._startParticlesAdded=!0,t.next=7,this._emitParticles(this.options.startCount);case 7:if(void 0!==this._duration&&(this._currentDuration+=i.value,this._currentDuration>=this._duration&&(this.pause(),void 0!==this._spawnDelay&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>0||this._immortal?(this.position=this._calcPosition(),null===(r=this._shape)||void 0===r||r.resize(this.position,this.size),this._spawnDelay=(0,a.Gu)(null!==(o=this.options.life.delay)&&void 0!==o?o:0)*a.X5/this.container.retina.reduceFactor):this._destroy(),this._currentDuration-=this._duration,delete this._duration)),void 0!==this._spawnDelay&&(this._currentSpawnDelay+=i.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),void 0===this._emitDelay){t.next=15;break}if(this._currentEmitDelay+=i.value,!(this._currentEmitDelay>=this._emitDelay)){t.next=15;break}return t.next=14,this._emit();case 14:this._currentEmitDelay-=this._emitDelay;case 15:case"end":return t.stop()}}),t,this)})));return function(i){return t.apply(this,arguments)}}()},{key:"_calcPosition",value:function(){if(this.options.domId){var t=document.getElementById(this.options.domId);if(t){var i=t.getBoundingClientRect(),e=this.container.retina.pixelRatio;return{x:(i.x+.5*i.width)*e,y:(i.y+.5*i.height)*e}}}return(0,a.Gz)({size:this.container.canvas.size,position:this.options.position})}},{key:"_calcSize",value:function(){var t,i=this.container;if(this.options.domId){var e=document.getElementById(this.options.domId);if(e){var n=e.getBoundingClientRect();return{width:n.width*i.retina.pixelRatio,height:n.height*i.retina.pixelRatio,mode:"precise"}}}return null!==(t=this.options.size)&&void 0!==t?t:function(){var t=new l.r;return t.load({height:0,mode:"percent",width:0}),t}()}},{key:"_emit",value:function(){var t=(0,s.Z)((0,n.Z)().mark((function t(){var i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._paused){t.next=2;break}return t.abrupt("return");case 2:return i=(0,a.Gu)(this.options.rate.quantity),t.next=5,this._emitParticles(i);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"_emitParticles",value:function(){var t=(0,s.Z)((0,n.Z)().mark((function t(i){var e,s,r,o,h,l,c,p,d,_;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,a.wA)(this._particlesOptions),s=0;case 2:if(!(s<i)){t.next=18;break}if(r=(0,a.ZB)({},e),this.spawnColor&&((h=null===(o=this.options.spawnColor)||void 0===o?void 0:o.animation)&&(l={h:360,s:100,l:100},3.6,this.spawnColor.h=this._setColorAnimation(h.h,this.spawnColor.h,l.h,3.6),this.spawnColor.s=this._setColorAnimation(h.s,this.spawnColor.s,l.s),this.spawnColor.l=this._setColorAnimation(h.l,this.spawnColor.l,l.l)),u(r,this.spawnColor)),c=this.options.shape,p=this.position,!this._shape){t.next=12;break}return t.next=10,this._shape.randomPosition();case 10:(d=t.sent)?(p=d.position,(_=c.replace).color&&d.color&&u(r,d.color),_.opacity&&(r.opacity?r.opacity.value=d.opacity:r.opacity={value:d.opacity})):p=null;case 12:if(!p){t.next=15;break}return t.next=15,this.container.particles.addParticle(p,r);case 15:s++,t.next=2;break;case 18:case"end":return t.stop()}}),t,this)})));return function(i){return t.apply(this,arguments)}}()}]),t}()}}]);
//# sourceMappingURL=7669.1388b704.chunk.js.map